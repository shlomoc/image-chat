# Gemini Image Chat

A Streamlit-based web application that enables interactive conversations with Google's Gemini AI model, featuring image upload capabilities, image generation, and video creation from generated images.

## Features

- **Multi-modal Chat**: Upload multiple images and have conversations with Gemini about them
- **Image Generation**: Ask Gemini to generate images based on your prompts
- **Video Generation**: Create videos from AI-generated images using additional prompts
- **Image Management**: Upload, view, and remove images through an intuitive sidebar interface
- **Persistent Chat History**: Maintain conversation context throughout your session

## Prerequisites

- Python 3.8 or higher
- Virtual environment (recommended)
- Google Gemini API key
- Replicate API key

## Installation

1. **Clone the repository:**
   ```bash
   git clone <repository-url>
   cd work
   ```

2. **Create and activate a virtual environment:**
   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   ```

3. **Install dependencies:**
   ```bash
   pip install -r requirements.txt
   ```

4. **Set up environment variables:**
   Create a `.env` file in the root directory:
   ```env
   GEMINI_API_KEY=your_gemini_api_key_here
   REPLICATE_API_KEY=your_replicate_api_key_here
   ```

## Usage

1. **Start the application:**
   ```bash
   streamlit run app.py
   ```

2. **Upload Images:**
   - Use the sidebar to upload one or multiple images
   - Supported formats: JPG, JPEG, PNG
   - Manage uploaded images through the gallery interface

3. **Chat with Gemini:**
   - Type your questions or requests in the chat input
   - Gemini can analyze uploaded images and generate responses
   - Ask for image generation by describing what you want to see

4. **Generate Videos:**
   - Switch to the "Video Generation" tab
   - Select from images generated by Replicate during your conversation
   - Provide a prompt describing desired video movement or action
   - Wait for video generation (may take 1-2 minutes)
   - Uses the wan-2.1-i2v-480p model

## Project Structure

```
work/
├── app.py                 # Main Streamlit application
├── gemini_experimental.py # Gemini AI integration module
├── utils.py              # Utility functions for file handling
├── video_generation.py   # Video generation functionality
├── requirements.txt      # Python dependencies
├── .env                  # Environment variables (create this)
├── .gitignore           # Git ignore patterns
├── temp/                # Temporary files directory
├── experiment/          # Experimental and backup files
│   ├── test_gem.py
│   ├── wan_21.py
│   └── *.png, *.mp4    # Generated files from testing
└── venv/               # Virtual environment
```

## Core Modules

### `app.py`
Main Streamlit application providing the user interface with:
- Image upload and management
- Chat interface
- Video generation tab
- Session state management

### `gemini_experimental.py`
Handles all Gemini AI interactions:
- Text and image response generation
- Image generation capabilities
- API communication

### `utils.py`
Utility functions for:
- File handling and storage
- Image processing
- Duplicate detection
- Temporary directory management

### `video_generation.py`
Video creation functionality:
- Generate videos from static images
- Prompt-based video generation
- File management for video outputs

## Environment Variables

| Variable | Description | Required |
|----------|-------------|----------|
| `GEMINI_API_KEY` | Google Gemini API key | Yes |

## Dependencies

Key dependencies include:
- `streamlit` - Web application framework
- `google-genai` - Google Gemini AI client
- `pillow` - Image processing
- `python-dotenv` - Environment variable management

See `requirements.txt` for complete list.

## Tips for Best Results

1. **Image Quality**: Upload clear, well-lit images for better AI analysis
2. **Specific Prompts**: Be descriptive when requesting image generation
3. **Video Prompts**: Describe movement, action, or transitions for video generation
4. **Context**: Maintain conversation context for better responses



## Development

### Running in Development Mode
```bash
streamlit run app.py --server.runOnSave true
```

### Testing
The `experiment/` folder contains test files and examples:
- `test_gem.py` - API testing scripts

